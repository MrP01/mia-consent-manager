function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function e(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function o(n,o){return!o||"object"!==t(o)&&"function"!=typeof o?e(n):o}function r(n){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function i(n,t){return(i=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function c(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&i(n,t)}function u(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)){var e=[],o=!0,r=!1,i=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done)&&(e.push(c.value),!t||e.length!==t);o=!0);}catch(n){r=!0,i=n}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return e}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function f(){}function l(n){return n()}function p(){return Object.create(null)}function d(n){n.forEach(l)}function h(n){return"function"==typeof n}function m(n,e){return n!=n?e==e:n!==e||n&&"object"===t(n)||"function"==typeof n}function v(n,t){n.appendChild(t)}function g(n,t,e){n.insertBefore(t,e||null)}function y(n){n.parentNode.removeChild(n)}function b(n){return document.createElement(n)}function _(n){return document.createTextNode(n)}function $(){return _(" ")}function w(n,t,e,o){return n.addEventListener(t,e,o),function(){return n.removeEventListener(t,e,o)}}function E(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function k(n){return Array.from(n.childNodes)}function x(n,t){t=""+t,n.data!==t&&(n.data=t)}var O;function A(n){O=n}function C(){var n=function(){if(!O)throw new Error("Function called outside component initialization");return O}();return function(t,e){var o=n.$$.callbacks[t];if(o){var r=function(n,t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!1,!1,t),e}(t,e);o.slice().forEach((function(t){t.call(n,r)}))}}}var j=[],S=[],L=[],H=[],T=Promise.resolve(),M=!1;function z(n){L.push(n)}var P=!1,N=new Set;function I(){if(!P){P=!0;do{for(var n=0;n<j.length;n+=1){var t=j[n];A(t),V(t.$$)}for(j.length=0;S.length;)S.pop()();for(var e=0;e<L.length;e+=1){var o=L[e];N.has(o)||(N.add(o),o())}L.length=0}while(j.length);for(;H.length;)H.pop()();M=!1,P=!1,N.clear()}}function V(n){if(null!==n.fragment){n.update(),d(n.before_update);var t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(z)}}var D,G=new Set;function R(){D={r:0,c:[],p:D}}function W(){D.r||d(D.c),D=D.p}function q(n,t){n&&n.i&&(G.delete(n),n.i(t))}function B(n,t,e,o){if(n&&n.o){if(G.has(n))return;G.add(n),D.c.push((function(){G.delete(n),o&&(e&&n.d(1),o())})),n.o(t)}}function F(n){n&&n.c()}function K(n,t,e){var o=n.$$,r=o.fragment,i=o.on_mount,c=o.on_destroy,u=o.after_update;r&&r.m(t,e),z((function(){var t=i.map(l).filter(h);c?c.push.apply(c,a(t)):d(t),n.$$.on_mount=[]})),u.forEach(z)}function Y(n,t){var e=n.$$;null!==e.fragment&&(d(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function J(n,t){-1===n.$$.dirty[0]&&(j.push(n),M||(M=!0,T.then(I)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Q(n,t,e,o,r,i){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1],u=O;A(n);var a=t.props||{},s=n.$$={fragment:null,ctx:null,props:i,update:f,not_equal:r,bound:p(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:p(),dirty:c},l=!1;s.ctx=e?e(n,a,(function(t,e){var o=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:e;return s.ctx&&r(s.ctx[t],s.ctx[t]=o)&&(s.bound[t]&&s.bound[t](o),l&&J(n,t)),e})):[],s.update(),l=!0,d(s.before_update),s.fragment=!!o&&o(s.ctx),t.target&&(t.hydrate?s.fragment&&s.fragment.l(k(t.target)):s.fragment&&s.fragment.c(),t.intro&&q(n.$$.fragment),K(n,t.target,t.anchor),I()),A(u)}var U=function(){function t(){n(this,t)}var e,o,r;return e=t,(o=[{key:"$destroy",value:function(){Y(this,1),this.$destroy=f}},{key:"$on",value:function(n,t){var e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"$set",value:function(){}}])&&s(e.prototype,o),r&&s(e,r),t}();function X(n){var t,e,o,r,i,c,u,a,s,l,p,h;return{c:function(){t=b("main"),(e=b("div")).innerHTML='<span class="miconsent__headline">Hi there!</span> \n    <span class="miconsent__subline">We&#39;re the cookies</span> \n    <p class="miconsent__info">\n      We waited to make sure that you were interested in the content of this\n      website before bothering you, but we would love to be your companions\n      during your visit...\n      <br>\n      Is that OK with you?\n    </p>',o=$(),r=b("div"),(i=b("div")).innerHTML="<button>No thanks</button>",c=$(),u=b("div"),(a=b("button")).textContent="I want to choose",s=$(),l=b("div"),(p=b("button")).textContent="Accept All",E(e,"class","miconsent__content"),E(i,"class","miconsent__option decline_all"),E(u,"class","miconsent__option"),E(l,"class","miconsent__option accept_all"),E(r,"class","miconsent__options")},m:function(f,d){g(f,t,d),v(t,e),v(t,o),v(t,r),v(r,i),v(r,c),v(r,u),v(u,a),v(r,s),v(r,l),v(l,p),h=[w(a,"click",n[3]),w(p,"click",n[4])]},p:f,i:f,o:f,d:function(n){n&&y(t),d(h)}}}function Z(n,t,e){var o=t.scripts,r=C();function i(){o.forEach((function(n){return n.granted=!0})),r("done",o)}return n.$set=function(n){"scripts"in n&&e(2,o=n.scripts)},[r,i,o,function(){return r("changeView","CHOOSE")},function(){return i()}]}var nn=function(t){function i(t){var c;return n(this,i),Q(e(c=o(this,r(i).call(this))),t,Z,X,m,{scripts:2}),c}return c(i,U),i}();function tn(n,t,e){var o=n.slice();return o[9]=t[e],o}function en(n){var t,e,o,r,i,c,u,a,s,f,l,p,d,h,m,k,O,A,C=n[9].name+"",j=n[9].description+"";function S(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return((t=n)[5].apply(t,[n[9]].concat(o)))}return{c:function(){t=b("div"),e=b("img"),r=$(),i=b("div"),c=b("span"),u=_(C),a=$(),s=b("small"),f=_(j),l=$(),p=b("label"),d=b("input"),m=$(),k=b("span"),O=$(),E(e,"class","miconsent__scriptlist_item_icon"),e.src!==(o="https://www.google.com/s2/favicons?domain="+n[9].domain)&&E(e,"src",o),d.checked=h=n[9].granted,E(d,"type","checkbox"),E(d,"class","svelte-18edsz9"),E(k,"class","slider round svelte-18edsz9"),E(p,"class","switch svelte-18edsz9"),E(t,"class","miconsent__scriptlist_item")},m:function(n,o){g(n,t,o),v(t,e),v(t,r),v(t,i),v(i,c),v(c,u),v(i,a),v(i,s),v(s,f),v(t,l),v(t,p),v(p,d),v(p,m),v(p,k),v(t,O),A=w(d,"change",S)},p:function(t,r){n=t,1&r&&e.src!==(o="https://www.google.com/s2/favicons?domain="+n[9].domain)&&E(e,"src",o),1&r&&C!==(C=n[9].name+"")&&x(u,C),1&r&&j!==(j=n[9].description+"")&&x(f,j),1&r&&h!==(h=n[9].granted)&&(d.checked=h)},d:function(n){n&&y(t),A()}}}function on(n){for(var t,e,o,r,i,c,a,s,l,p,h,m,k,x,O,A,C,j,S,L,H,T,M,z,P,N=n[0],I=[],V=0;V<N.length;V+=1)I[V]=en(tn(n,N,V));return{c:function(){t=b("main"),e=b("div"),(o=b("span")).textContent="Hi there!",r=$(),(i=b("span")).textContent="Choice is important! You are in control of all tools that we use to\n      enhance your user experience and help us to improve our product.",c=$(),a=b("div"),s=_("Check All\n      "),l=b("label"),p=b("input"),m=$(),k=b("span"),x=$(),O=b("div");for(var u=0;u<I.length;u+=1)I[u].c();A=$(),C=b("div"),(j=b("div")).innerHTML="<button>back</button>",S=$(),L=b("div"),(H=b("button")).textContent="Accept All",T=$(),M=b("div"),(z=b("button")).textContent="Done",E(o,"class","miconsent__headline"),E(i,"class","miconsent__info"),p.checked=h=0===n[0].filter(rn).length,E(p,"type","checkbox"),E(p,"class","svelte-18edsz9"),E(k,"class","slider round svelte-18edsz9"),E(l,"class","switch large svelte-18edsz9"),E(a,"class","miconsent__accept_all"),E(O,"class","miconsent__scriptlist"),E(e,"class","miconsent__content"),E(j,"class","miconsent__option decline_all"),E(L,"class","miconsent__option"),E(M,"class","miconsent__option accept_all"),E(C,"class","miconsent__options")},m:function(u,f){g(u,t,f),v(t,e),v(e,o),v(e,r),v(e,i),v(e,c),v(e,a),v(a,s),v(a,l),v(l,p),v(l,m),v(l,k),v(e,x),v(e,O);for(var d=0;d<I.length;d+=1)I[d].m(O,null);v(t,A),v(t,C),v(C,j),v(C,S),v(C,L),v(L,H),v(C,T),v(C,M),v(M,z),P=[w(l,"change",n[4]),w(j,"click",n[6]),w(H,"click",n[7]),w(z,"click",n[8])]},p:function(n,t){var e=u(t,1)[0];if(1&e&&h!==(h=0===n[0].filter(rn).length)&&(p.checked=h),5&e){var o;for(N=n[0],o=0;o<N.length;o+=1){var r=tn(n,N,o);I[o]?I[o].p(r,e):(I[o]=en(r),I[o].c(),I[o].m(O,null))}for(;o<I.length;o+=1)I[o].d(1);I.length=N.length}},i:f,o:f,d:function(n){n&&y(t),function(n,t){for(var e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}(I,n),d(P)}}}var rn=function(n){return!n.granted};function cn(n,t,e){var o=C(),r=t.scripts;function i(n,t){"ALL"===n?r.forEach((function(n){return n.granted=t.target.checked})):r.find((function(t){return t.name===n})).granted=t.target.checked,e(0,r)}function c(){r.forEach((function(n){return n.granted=!0})),o("done",r)}return n.$set=function(n){"scripts"in n&&e(0,r=n.scripts)},[r,o,i,c,function(n){return i("ALL",n)},function(n,t){return i(n.name,t)},function(){return o("changeView","HOME")},function(){return c()},function(){return o("done",r)}]}var un=function(t){function i(t){var c;return n(this,i),Q(e(c=o(this,r(i).call(this))),t,cn,on,m,{scripts:0}),c}return c(i,U),i}(),an=function(n){var t=n.detail;if(console.log("grant done",t),"undefined"==typeof window||!window.dataLayer)return console.log("GTM instance could not be detected, please ensure that it is installed");t.forEach((function(n){dataLayer.push({event:"CM_GRANTED_".concat(n.gtm?n.gtm.grantEvent:n.name)})}))};function sn(n){var t,e,o,r,i=[ln,fn],c=[];function u(n,t){return"HOME"===n[1]?0:"CHOOSE"===n[1]?1:-1}return~(e=u(n))&&(o=c[e]=i[e](n)),{c:function(){t=b("div"),o&&o.c(),E(t,"class","miconsent")},m:function(n,o){g(n,t,o),~e&&c[e].m(t,null),r=!0},p:function(n,r){var a=e;(e=u(n))===a?~e&&c[e].p(n,r):(o&&(R(),B(c[a],1,1,(function(){c[a]=null})),W()),~e?((o=c[e])||(o=c[e]=i[e](n)).c(),q(o,1),o.m(t,null)):o=null)},i:function(n){r||(q(o),r=!0)},o:function(n){B(o),r=!1},d:function(n){n&&y(t),~e&&c[e].d()}}}function fn(n){var t,e=new un({props:{scripts:n[0]}});return e.$on("done",n[4]),e.$on("changeView",n[3]),{c:function(){F(e.$$.fragment)},m:function(n,o){K(e,n,o),t=!0},p:function(n,t){var o={};1&t&&(o.scripts=n[0]),e.$set(o)},i:function(n){t||(q(e.$$.fragment,n),t=!0)},o:function(n){B(e.$$.fragment,n),t=!1},d:function(n){Y(e,n)}}}function ln(n){var t,e=new nn({props:{scripts:n[0]}});return e.$on("done",an),e.$on("changeView",n[3]),{c:function(){F(e.$$.fragment)},m:function(n,o){K(e,n,o),t=!0},p:function(n,t){var o={};1&t&&(o.scripts=n[0]),e.$set(o)},i:function(n){t||(q(e.$$.fragment,n),t=!0)},o:function(n){B(e.$$.fragment,n),t=!1},d:function(n){Y(e,n)}}}function pn(n){var t,e,o=!n[2]&&sn(n);return{c:function(){t=b("main"),o&&o.c()},m:function(n,r){g(n,t,r),o&&o.m(t,null),e=!0},p:function(n,e){var r=u(e,1)[0];n[2]?o&&(R(),B(o,1,1,(function(){o=null})),W()):o?(o.p(n,r),q(o,1)):((o=sn(n)).c(),q(o,1),o.m(t,null))},i:function(n){e||(q(o),e=!0)},o:function(n){B(o),e=!1},d:function(n){n&&y(t),o&&o.d()}}}function dn(n,t,e){var o=t.scripts,r="HOME",i=!1;return n.$set=function(n){"scripts"in n&&e(0,o=n.scripts)},[o,r,i,function(n){e(1,r=n.detail),e(2,i=tr)},function(n){an(n),e(2,i=!0)}]}var hn=function(t){function i(t){var c;return n(this,i),Q(e(c=o(this,r(i).call(this))),t,dn,pn,m,{scripts:0}),c}return c(i,U),i}();export default function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scripts:[]};return new hn({target:document.body,props:n})}
//# sourceMappingURL=index.js.map
